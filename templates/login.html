<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login | JADI - Jambi Database Informasi Penyuluh Hukum</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="/jadi/static/output.css" rel="stylesheet">
    <style>
        .card-frosted {
            backdrop-filter: blur(15px);
            -webkit-backdrop-filter: blur(15px);
            background-color: rgba(255, 255, 255, 0.15);
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);
        }
        .input-field {
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            background-color: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
        }
        .input-field:focus {
            background-color: rgba(255, 255, 255, 0.2);
            border-color: rgba(96, 165, 250, 0.5);
            box-shadow: 0 0 0 3px rgba(96, 165, 250, 0.3);
        }
        .strength-weak { background-color: rgba(239, 68, 68, 0.2); border-color: rgba(239, 68, 68, 0.5); }
        .strength-medium { background-color: rgba(245, 158, 11, 0.2); border-color: rgba(245, 158, 11, 0.5); }
        .strength-strong { background-color: rgba(16, 185, 129, 0.2); border-color: rgba(16, 185, 129, 0.5); }
        .btn-primary {
            background: linear-gradient(135deg, #3b82f6, #2563eb);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        .btn-primary::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(255, 255, 255, 0.2);
            transform: translateX(-100%);
            transition: transform 0.6s ease;
        }
        .btn-primary:hover::before { transform: translateX(0); }
        .btn-secondary {
            background: rgba(107, 114, 128, 0.3);
            backdrop-filter: blur(5px);
            transition: all 0.3s ease;
        }
        .btn-secondary:hover { background: rgba(107, 114, 128, 0.5); }
        .social-btn {
            backdrop-filter: blur(5px);
            background-color: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: all 0.3s ease;
        }
        .social-btn:hover {
            background-color: rgba(255, 255, 255, 0.2);
            transform: translateY(-2px);
        }
        .loader {
            border-top-color: #fff;
            animation: spinner 1s linear infinite;
        }
        @keyframes spinner {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        .bg-pattern {
            background-image: 
                radial-gradient(circle at 10% 20%, rgba(96, 165, 250, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 90% 80%, rgba(139, 92, 246, 0.1) 0%, transparent 50%);
        }
    </style>
</head>
<body 
    class="min-h-screen flex items-center justify-center bg-fixed bg-center bg-cover bg-no-repeat relative p-4 text-gray-800 bg-pattern"
    style="background-image: url('/jadi/static/bg.jpg');"
>
    <div class="absolute inset-0 bg-black/60 -z-10"></div>

    <!-- Floating particles -->
    <div class="absolute inset-0 overflow-hidden -z-10">
        <div class="absolute top-1/4 left-1/4 w-16 h-16 rounded-full bg-blue-500/10 animate-float"></div>
        <div class="absolute top-3/4 left-3/4 w-24 h-24 rounded-full bg-purple-500/10 animate-float" style="animation-delay: 1s;"></div>
        <div class="absolute top-1/3 left-3/4 w-12 h-12 rounded-full bg-blue-400/10 animate-float" style="animation-delay: 2s;"></div>
        <div class="absolute top-2/3 left-1/3 w-20 h-20 rounded-full bg-purple-400/10 animate-float" style="animation-delay: 1.5s;"></div>
    </div>

    <!-- Card -->
    <div class="w-full max-w-md rounded-3xl shadow-2xl p-8 card-frosted transition-all duration-500 backdrop-blur-lg animate-fade-in">
        <div class="flex justify-center mb-6">
            <div class="relative">
                <img src="/jadi/static/logo.png" alt="Logo" class="h-24 w-24 object-contain transition-transform duration-500 hover:scale-110">
                <div class="absolute inset-0 rounded-full bg-blue-500/20 blur-md -z-10 animate-pulse-slow"></div>
            </div>
        </div>
        
        <h3 class="text-center text-3xl font-bold mb-2 text-white font-serif">JADI</h3>
        <p class="text-center text-sm font-medium mb-8 text-white/80">Jambi Database Informasi Pembinaan Hukum</p>

        {{ if .Error }}
        <div class="mb-4 text-center text-sm font-semibold text-red-100 bg-red-500/20 border border-red-400/30 rounded-lg p-3 transition-all duration-300 animate-fade-in">
            <i class="fas fa-exclamation-circle mr-2"></i> {{ .Error }}
        </div>
        {{ end }}

        <!-- Form -->
        <form method="POST" action="/jadi/login" novalidate x-data="{ validate: false, showPassword: false, rememberMe: false, isLoading: false, passwordStrength: 0,
            checkPasswordStrength() {
                const password = this.$refs.password.value;
                if (password.length === 0) this.passwordStrength = 0;
                else if (password.length < 6) this.passwordStrength = 1;
                else if (password.length < 10 || !/[A-Z]/.test(password) || !/[0-9]/.test(password)) this.passwordStrength = 2;
                else this.passwordStrength = 3;
            }
        }" 
        @submit.prevent="validate = true; if($event.target.checkValidity()) { isLoading = true; setTimeout(() => { $event.target.submit(); }, 1000); }">

            <!-- Username -->
            <div class="mb-5">
                <label for="username" class="block text-sm font-semibold mb-2 text-white/90">Username</label>
                <div class="relative">
                    <div class="absolute inset-y-0 left-0 flex items-center pl-3 text-white/50"><i class="fas fa-user"></i></div>
                    <input type="text" name="username" id="username" x-ref="username" placeholder="Masukkan username" required autofocus
                        class="w-full rounded-xl border-none input-field text-white placeholder-white/50 focus:ring-2 focus:ring-blue-400 focus:border-blue-400 text-sm pl-10 pr-4 py-3"
                        :class="validate && !$refs.username.value ? 'ring-2 ring-red-500 border-red-500' : ''">
                </div>
                <p x-show="validate && !$refs.username.value" class="text-xs text-red-300 mt-2 font-medium animate-fade-in"><i class="fas fa-exclamation-circle mr-1"></i> Username harus diisi</p>
            </div>

            <!-- Password -->
            <div class="mb-2">
                <label for="password" class="block text-sm font-semibold mb-2 text-white/90">Password</label>
                <div class="relative">
                    <div class="absolute inset-y-0 left-0 flex items-center pl-3 text-white/50"><i class="fas fa-lock"></i></div>
                    <input :type="showPassword ? 'text' : 'password'" name="password" id="password" x-ref="password" placeholder="Masukkan password" required @input="checkPasswordStrength()"
                        class="w-full rounded-xl border-none input-field text-white placeholder-white/50 focus:ring-2 focus:ring-blue-400 focus:border-blue-400 text-sm pl-10 pr-12 py-3"
                        :class="{
                            'ring-2 ring-red-500 border-red-500': validate && !$refs.password.value,
                            'strength-weak': passwordStrength === 1,
                            'strength-medium': passwordStrength === 2,
                            'strength-strong': passwordStrength === 3
                        }">
                    <button type="button" @click="showPassword = !showPassword" class="absolute inset-y-0 right-0 top-0 flex items-center pr-4 text-white/70 hover:text-white transition-colors duration-200">
                        <svg x-show="!showPassword" xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.575 3.01 9.963 7.172a1.012 1.012 0 0 1 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.575-3.01-9.963-7.172Z"/><path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"/></svg>
                        <svg x-show="showPassword" xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M3.98 8.223A10.477 10.477 0 0 0 1.934 12c0 2.914 1.373 5.378 3.006 7.129a10.428 10.428 0 0 0 7.828 0c1.633-1.751 3-4.215 3-7.129 0-2.314-.85-4.437-2.39-6.071m-9.524-1.144A4.5 4.5 0 0 1 12 4.5c.345 0 .684.024 1.016.071M12 19.5c-1.895 0-3.665-.742-4.999-1.993M12 19.5c1.895 0 3.665-.742 4.999-1.993"/></svg>
                    </button>
                </div>
                <p x-show="validate && !$refs.password.value" class="text-xs text-red-300 mt-2 font-medium animate-fade-in"><i class="fas fa-exclamation-circle mr-1"></i> Password harus diisi</p>
                
                <!-- Password strength -->
                <div x-show="passwordStrength > 0" class="mt-2">
                    <div class="flex items-center justify-between text-xs mb-1">
                        <span class="text-white/70">Kekuatan password:</span>
                        <span x-show="passwordStrength === 1" class="text-red-300">Lemah</span>
                        <span x-show="passwordStrength === 2" class="text-yellow-300">Sedang</span>
                        <span x-show="passwordStrength === 3" class="text-green-300">Kuat</span>
                    </div>
                    <div class="w-full h-1.5 bg-gray-700 rounded-full overflow-hidden">
                        <div class="h-full rounded-full transition-all duration-500"
                             :class="{
                                 'bg-red-500 w-1/3': passwordStrength === 1,
                                 'bg-yellow-500 w-2/3': passwordStrength === 2,
                                 'bg-green-500 w-full': passwordStrength === 3
                             }"></div>
                    </div>
                </div>
            </div>

            <div class="mb-6 flex items-center justify-between">
                <label class="flex items-center text-white/80 text-sm">
                    <input type="checkbox" x-model="rememberMe" class="rounded bg-white/10 border-white/20 text-blue-500 focus:ring-blue-400 focus:ring-offset-0 mr-2">
                    <span>Ingat saya</span>
                </label>
                <a href="/forgot-password" class="text-sm text-blue-300 hover:text-blue-200 transition-colors">Lupa password?</a>
            </div>

            <!-- Submit -->
            <button type="submit" class="w-full py-3 rounded-xl btn-primary text-white font-semibold transition-all duration-300 flex items-center justify-center gap-2 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500" :disabled="isLoading">
                <svg x-show="!isLoading" xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6a2.25 2.25 0 00-2.25 2.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15M12 9l-3 3m0 0l3 3m-3-3h12a2.25 2.25 0 002.25-2.25V15"/></svg>
                <div x-show="isLoading" class="w-5 h-5 border-2 border-white border-t-transparent rounded-full loader"></div>
                <span x-text="isLoading ? 'Memproses...' : 'Masuk'"></span>
            </button>

            <div class="mt-4">
                <a href="/jadi/" class="w-full block py-3 rounded-xl btn-secondary text-white font-semibold text-center transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500">
                    <i class="fas fa-arrow-left mr-2"></i> Kembali ke Dashboard
                </a>
            </div>
        </form>
        
        <!-- Social login -->
        <div class="mt-6 text-center text-white/60 text-xs">
            <p>Atau masuk dengan</p>
            <div class="flex justify-center space-x-3 mt-3">
                <button class="w-10 h-10 rounded-full social-btn flex items-center justify-center"><i class="fab fa-google text-white"></i></button>
                <button class="w-10 h-10 rounded-full social-btn flex items-center justify-center"><i class="fab fa-microsoft text-white"></i></button>
                <button class="w-10 h-10 rounded-full social-btn flex items-center justify-center"><i class="fas fa-fingerprint text-white"></i></button>
            </div>
        </div>
    </div>

    <div class="absolute bottom-4 text-center text-xs text-white/90 max-w-md px-4">
        &copy; 2025 - JADI | Kantor Wilayah Kementerian Hukum Jambi
    </div>

    <script src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js" defer></script>
</body>
</html>
